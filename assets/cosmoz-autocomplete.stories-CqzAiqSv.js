import{b as f}from"./iframe-hj_VVuL4.js";import{c as o,o as A}from"./data-BXp-_EJa.js";import{n as b}from"./index-BgsWSBsZ.js";import"./index-Ct1y2Azm.js";import"./preload-helper-PPVm8Dsz.js";const D=[{id:1,name:"camion"},{id:2,name:"camión"},{id:3,name:"cámion"},{id:4,name:"camíon"},{id:5,name:"telefono"},{id:6,name:"teléfono"},{id:7,name:"téléfono"},{id:8,name:"telefóno"},{id:9,name:"logico"},{id:10,name:"lógico"},{id:11,name:"lógíco"},{id:12,name:"logicó"},{id:13,name:"rapido"},{id:14,name:"rápido"},{id:15,name:"rapído"},{id:16,name:"rapidó"},{id:17,name:"musica"},{id:18,name:"música"},{id:19,name:"músíca"},{id:20,name:"musíca"},{id:21,name:"medico"},{id:22,name:"médico"},{id:23,name:"medíco"},{id:24,name:"medicó"},{id:25,name:"nacion"},{id:26,name:"nación"},{id:27,name:"nácion"},{id:28,name:"nacióń"},{id:29,name:"arboles"},{id:30,name:"árboles"},{id:31,name:"arbólés"},{id:32,name:"arbóles"},{id:33,name:"facil"},{id:34,name:"fácil"},{id:35,name:"fácíl"},{id:36,name:"facíl"},{id:37,name:"publico"},{id:38,name:"público"},{id:39,name:"publíco"},{id:40,name:"publicó"},{id:41,name:"tecnico"},{id:42,name:"técnico"},{id:43,name:"tecníco"},{id:44,name:"tecnicó"},{id:45,name:"heroe"},{id:46,name:"héroe"},{id:47,name:"heróe"},{id:48,name:"héroe"},{id:49,name:"cancion"},{id:50,name:"canción"},{id:51,name:"cáncion"},{id:52,name:"canciòn"},{id:53,name:"reunion"},{id:54,name:"reunión"},{id:55,name:"réunion"},{id:56,name:"reúniôn"},{id:57,name:"opinion"},{id:58,name:"opinión"},{id:59,name:"ópinion"},{id:60,name:"opíníon"},{id:61,name:"sofisticado"},{id:62,name:"sofísticado"},{id:63,name:"sofisticadó"},{id:64,name:"sófisticado"},{id:65,name:"especifico"},{id:66,name:"específico"},{id:67,name:"especifíco"},{id:68,name:"especificó"},{id:69,name:"analisis"},{id:70,name:"análisis"},{id:71,name:"ánalisis"},{id:72,name:"analísís"},{id:73,name:"vehiculo"},{id:74,name:"vehículo"},{id:75,name:"véhiculo"},{id:76,name:"vehículó"},{id:77,name:"dificil"},{id:78,name:"difícil"},{id:79,name:"dífícil"},{id:80,name:"dificíl"}],H=[{id:1,name:"forsok"},{id:2,name:"försök"},{id:3,name:"fôrsök"},{id:4,name:"försôk"},{id:5,name:"manad"},{id:6,name:"månad"},{id:7,name:"månád"},{id:8,name:"manád"},{id:9,name:"lagg"},{id:10,name:"lägg"},{id:11,name:"lägğ"},{id:12,name:"làgg"},{id:13,name:"karlek"},{id:14,name:"kärlek"},{id:15,name:"kârlek"},{id:16,name:"kärlék"},{id:17,name:"arbete"},{id:18,name:"arbeté"},{id:19,name:"ârbete"},{id:20,name:"àrbete"},{id:21,name:"betyg"},{id:22,name:"bêtyg"},{id:23,name:"bétyg"},{id:24,name:"bëtyg"},{id:25,name:"skola"},{id:26,name:"skóla"},{id:27,name:"skôla"},{id:28,name:"skolá"},{id:29,name:"vinter"},{id:30,name:"vínter"},{id:31,name:"vîntér"},{id:32,name:"vintêr"},{id:33,name:"sommar"},{id:34,name:"sômmar"},{id:35,name:"sommár"},{id:36,name:"sómmar"},{id:37,name:"helgdag"},{id:38,name:"hélgdag"},{id:39,name:"hêlgdag"},{id:40,name:"helgdág"},{id:41,name:"flygplan"},{id:42,name:"flýgplan"},{id:43,name:"flügplan"},{id:44,name:"flygplân"},{id:45,name:"studera"},{id:46,name:"stûdera"},{id:47,name:"studerá"},{id:48,name:"stúdérä"},{id:49,name:"huset"},{id:50,name:"hûset"},{id:51,name:"húset"},{id:52,name:"husét"},{id:53,name:"datorn"},{id:54,name:"dâtorn"},{id:55,name:"dátorn"},{id:56,name:"dătorn"},{id:57,name:"telefon"},{id:58,name:"téléfon"},{id:59,name:"telefôn"},{id:60,name:"tèlefón"},{id:61,name:"minuter"},{id:62,name:"mínuter"},{id:63,name:"mînuter"},{id:64,name:"minûtér"},{id:65,name:"sverige"},{id:66,name:"svérige"},{id:67,name:"svêrige"},{id:68,name:"svérigé"},{id:69,name:"spraket"},{id:70,name:"språket"},{id:71,name:"sprâket"},{id:72,name:"sprákét"},{id:73,name:"gladje"},{id:74,name:"glädje"},{id:75,name:"gládje"},{id:76,name:"glädjé"},{id:77,name:"natten"},{id:78,name:"nátten"},{id:79,name:"nättén"},{id:80,name:"nâtten"}],{expect:r,userEvent:t}=__STORYBOOK_MODULE_TEST__,_=f`
    <style>
        .contour {
            --cosmoz-input-color: #aeacac;
            --cosmoz-input-border-radius: 4px;
            --cosmoz-input-wrap-padding: 12px;
            --cosmoz-input-line-display: none;
            --cosmoz-input-contour-size: 1px;
            --cosmoz-input-label-translate-y: 10px;
            --cosmoz-autocomplete-chip-translate-y: 8px;
            --cosmoz-autocomplete-chip-border-radius: 4px;
        }
    </style>
`,L=(e,a)=>a==null?e:({active:n})=>n?new Promise(i=>setTimeout(()=>i(e),a)):void 0,M=({source:e,limit:a,textProperty:n,min:i,label:g="",value:v=[],disabled:S=!1,placeholder:B="",defaultIndex:T=0,showSingle:k=!1,preserveOrder:z=!1,wrap:P=!1,keepOpened:C=!1,keepQuery:$=!1,opened:R=!1,overflowed:E=!1,responseTime:I,contour:q})=>{const W={maxWidth:E?"170px":"initial"},O=L(e,I);return f`
        ${_}
        <cosmoz-autocomplete
            class=${b(q,()=>"contour")}
            .label=${g}
            .placeholder=${B}
            .source=${O}
            .textProperty=${n}
            .limit=${a}
            .value=${v}
            .min=${i}
            .defaultIndex=${T}
            .opened=${R}
            ?disabled=${S}
            ?show-single=${k}
            ?preserve-order=${z}
            ?wrap=${P}
            ?keep-opened=${C}
            ?keep-query=${$}
            style=${A(W)}
        ></cosmoz-autocomplete>
    `},U={title:"Autocomplete",render:M,argTypes:{label:{control:"text",description:"The label displayed on the screen"},source:{control:"object",description:"The source for the values"},textProperty:{control:"text",description:"Property to select value"},value:{control:"object",description:"The actual value"},limit:{control:"number"},defaultIndex:{control:"number",description:"Default index of source"},disabled:{control:"boolean",description:"Disabled state"},placeholder:{control:"text"},showSingle:{control:"boolean"},keepOpened:{control:"boolean"},keepQuery:{control:"boolean"},opened:{control:"boolean",description:"Programmatically open/close the dropdown"},preserveOrder:{control:"boolean"},min:{control:"number"},wrap:{control:"boolean"},overflowed:{control:"boolean"},responseTime:{control:"number"},uppercase:{control:"boolean"},contour:{control:"boolean"}},decorators:[(e,{args:a})=>b(a.uppercase,()=>f`<div style="text-transform: uppercase">${e()}</div>`,()=>e())],parameters:{docs:{controls:{exclude:["overflowed","contour","responseTime","uppercase"]},description:{component:"The Cosmoz Autocomplete web component"}}}},s={args:{label:"Choose color",source:o,textProperty:"text",value:[o[0],o[3]]},play:async({canvas:e,step:a})=>{await a("Renders with chips",async()=>{await e.findByShadowText(/Red/u),await e.findByShadowText(/Blue/u)}),await a("Has input field",async()=>{const n=document.querySelector("cosmoz-autocomplete");r(n).toBeTruthy(),r(n?.shadowRoot?.querySelector("cosmoz-input")).toBeTruthy()})}},c={args:{label:"Choose color",source:o,textProperty:"text",limit:1,value:[o[2]]},play:async({canvas:e})=>{await e.findByShadowText(/Purple/u)}},l={args:{label:"Choose color",source:o,textProperty:"text",limit:1,defaultIndex:-1},play:async({step:e})=>{await e("Renders with no initial selection",async()=>{const a=document.querySelector("cosmoz-autocomplete");r(a?.shadowRoot?.querySelectorAll(".chip")?.length??0).toBe(0)})}},d={args:{label:"Choose color (single value)",source:o.slice(0,1),textProperty:"text",limit:1,defaultIndex:-1}},m={args:{label:"Choose color",source:o,textProperty:"text",limit:1,value:o[0],disabled:!0},play:async()=>{const e=document.querySelector("cosmoz-autocomplete");r(e?.hasAttribute("disabled")).toBe(!0)}},u={args:{placeholder:"Choose color (placeholder text)",source:o,limit:1,textProperty:"text",value:o[0]}},p={args:{label:"Choose color",source:o,limit:1,textProperty:"text",value:o[2],showSingle:!0,preserveOrder:!0,min:1},play:async({canvas:e,step:a})=>{await a("Renders with initial selection",async()=>{await e.findByShadowText(/Purple/u)}),await a("Select Blue option",async()=>{const n=await e.findByShadowText(/Choose color/u);await t.click(n);const i=await e.findByShadowRole("option",{name:"Blue"});await t.click(i),await e.findByShadowText(/Blue/u)})}},y={args:{label:"Choose color",source:o,textProperty:"text",value:[o[0],o[1],o[2]],overflowed:!0},play:async()=>{const e=document.querySelector("cosmoz-autocomplete");r(e?.style.maxWidth).toBe("170px")}},h={args:{label:"Choose color",source:o,textProperty:"text",value:[o[0],o[1],o[2]],wrap:!0,overflowed:!0},play:async()=>{const e=document.querySelector("cosmoz-autocomplete");r(e?.hasAttribute("wrap")).toBe(!0)}},w={render:()=>f`
        <div>
            <div style="margin: 2rem 0;">
                <h3 style="margin-bottom: 10px;">Spanish Words</h3>
                <cosmoz-autocomplete
                    label="Choose Spanish word"
                    .source=${D}
                    text-property="name"
                    .defaultIndex=${-1}
                ></cosmoz-autocomplete>
            </div>
            <div style="margin: 2rem 0;">
                <h3 style="margin-bottom: 10px;">Swedish Words</h3>
                <cosmoz-autocomplete
                    label="Choose Swedish word"
                    .source=${H}
                    text-property="name"
                    .defaultIndex=${-1}
                ></cosmoz-autocomplete>
            </div>
        </div>
    `},x={args:{label:"Choose color",source:o,textProperty:"text",value:[o[0],o[3]]},play:async({canvas:e,step:a})=>{await a("Renders with initial value",async()=>{const n=document.querySelector("cosmoz-autocomplete");r(n).toBeTruthy(),await e.findByShadowText(/Red/u),await e.findByShadowText(/Blue/u)}),await a("Remove chips and select new item",async()=>{const n=await e.findByShadowRole("textbox");await t.click(n),await t.keyboard("{Backspace}{Backspace}"),await t.type(n,"Wh"),await t.keyboard("{Enter}"),await e.findByShadowText(/White/u)}),await a("No results message",async()=>{const n=await e.findByShadowRole("textbox");await t.click(n),await t.tripleClick(n),await t.type(n,"Asdf"),await e.findByShadowText(/No results found/u)})}};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    value: [colors[0], colors[3]]
  },
  play: async ({
    canvas,
    step
  }) => {
    await step('Renders with chips', async () => {
      await canvas.findByShadowText(/Red/u);
      await canvas.findByShadowText(/Blue/u);
    });
    await step('Has input field', async () => {
      const autocomplete = document.querySelector<HTMLElement>('cosmoz-autocomplete');
      expect(autocomplete).toBeTruthy();
      expect(autocomplete?.shadowRoot?.querySelector('cosmoz-input')).toBeTruthy();
    });
  }
}`,...s.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    limit: 1,
    value: [colors[2]]
  },
  play: async ({
    canvas
  }) => {
    await canvas.findByShadowText(/Purple/u);
  }
}`,...c.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    limit: 1,
    defaultIndex: -1
  },
  play: async ({
    step
  }) => {
    await step('Renders with no initial selection', async () => {
      const autocomplete = document.querySelector<HTMLElement>('cosmoz-autocomplete');
      expect(autocomplete?.shadowRoot?.querySelectorAll('.chip')?.length ?? 0).toBe(0);
    });
  }
}`,...l.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color (single value)',
    source: colors.slice(0, 1),
    textProperty: 'text',
    limit: 1,
    defaultIndex: -1
  }
}`,...d.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    limit: 1,
    value: colors[0],
    disabled: true
  },
  play: async () => {
    const autocomplete = document.querySelector<HTMLElement>('cosmoz-autocomplete');
    expect(autocomplete?.hasAttribute('disabled')).toBe(true);
  }
}`,...m.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    placeholder: 'Choose color (placeholder text)',
    source: colors,
    limit: 1,
    textProperty: 'text',
    value: colors[0]
  }
}`,...u.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    limit: 1,
    textProperty: 'text',
    value: colors[2],
    showSingle: true,
    preserveOrder: true,
    min: 1
  },
  play: async ({
    canvas,
    step
  }) => {
    await step('Renders with initial selection', async () => {
      await canvas.findByShadowText(/Purple/u);
    });
    await step('Select Blue option', async () => {
      const label = await canvas.findByShadowText(/Choose color/u);
      await userEvent.click(label);
      const blueOption = await canvas.findByShadowRole('option', {
        name: 'Blue'
      });
      await userEvent.click(blueOption);
      await canvas.findByShadowText(/Blue/u);
    });
  }
}`,...p.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    value: [colors[0], colors[1], colors[2]],
    overflowed: true
  },
  play: async () => {
    const autocomplete = document.querySelector<HTMLElement>('cosmoz-autocomplete');
    expect(autocomplete?.style.maxWidth).toBe('170px');
  }
}`,...y.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    value: [colors[0], colors[1], colors[2]],
    wrap: true,
    overflowed: true
  },
  play: async () => {
    const autocomplete = document.querySelector<HTMLElement>('cosmoz-autocomplete');
    expect(autocomplete?.hasAttribute('wrap')).toBe(true);
  }
}`,...h.parameters?.docs?.source}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  render: () => html\`
        <div>
            <div style="margin: 2rem 0;">
                <h3 style="margin-bottom: 10px;">Spanish Words</h3>
                <cosmoz-autocomplete
                    label="Choose Spanish word"
                    .source=\${spanishWords}
                    text-property="name"
                    .defaultIndex=\${-1}
                ></cosmoz-autocomplete>
            </div>
            <div style="margin: 2rem 0;">
                <h3 style="margin-bottom: 10px;">Swedish Words</h3>
                <cosmoz-autocomplete
                    label="Choose Swedish word"
                    .source=\${swedishWords}
                    text-property="name"
                    .defaultIndex=\${-1}
                ></cosmoz-autocomplete>
            </div>
        </div>
    \`
}`,...w.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Choose color',
    source: colors,
    textProperty: 'text',
    value: [colors[0], colors[3]]
  },
  play: async ({
    canvas,
    step
  }) => {
    await step('Renders with initial value', async () => {
      const autocomplete = document.querySelector<HTMLElement>('cosmoz-autocomplete');
      expect(autocomplete).toBeTruthy();
      await canvas.findByShadowText(/Red/u);
      await canvas.findByShadowText(/Blue/u);
    });
    await step('Remove chips and select new item', async () => {
      const input = await canvas.findByShadowRole('textbox');
      await userEvent.click(input);
      await userEvent.keyboard('{Backspace}{Backspace}');
      await userEvent.type(input, 'Wh');
      await userEvent.keyboard('{Enter}');
      await canvas.findByShadowText(/White/u);
    });
    await step('No results message', async () => {
      const input = await canvas.findByShadowRole('textbox');
      await userEvent.click(input);
      await userEvent.tripleClick(input);
      await userEvent.type(input, 'Asdf');
      await canvas.findByShadowText(/No results found/u);
    });
  }
}`,...x.parameters?.docs?.source}}};const Y=["Basic","Single","DefaultIndex","DefaultIndexSingleValue","Disabled","Placeholder","Select","Overflown","Wrap","AccentInsensitiveSearch","InteractionTest"];export{w as AccentInsensitiveSearch,s as Basic,l as DefaultIndex,d as DefaultIndexSingleValue,m as Disabled,x as InteractionTest,y as Overflown,u as Placeholder,p as Select,c as Single,h as Wrap,Y as __namedExportsOrder,U as default};
